<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hablemos de Bulimia | Exposición de Ciudadanía</title>
    <meta name="description" content="Una página informativa y de concientización sobre la bulimia, con un diseño moderno y animaciones fluidas.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- AOS (Animate On Scroll) Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&family=Poppins:wght@500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'display': ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        'background': '#0B0F19', // Azul noche profundo
                        'surface': '#1A202C',   // Gris azulado oscuro
                        'primary': '#F7FAFC',   // Blanco casi puro
                        'secondary': '#A0AEC0', // Gris azulado claro
                        'accent': '#38bdf8',     // Azul cielo sereno
                        'accent-hover': '#0ea5e9', // Tono más oscuro para hover
                        'success': '#34D399', // Verde esmeralda
                        'danger': '#F87171', // Rojo suave
                    },
                    animation: {
                        'aurora': 'aurora 60s linear infinite',
                    },
                    keyframes: {
                        aurora: {
                            'from': { 'background-position': '50% 50%, 50% 50%' },
                            'to': { 'background-position': '350% 50%, 350% 50%' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Scrollbar personalizado */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1A202C; }
        ::-webkit-scrollbar-thumb { background-color: #4A5568; border-radius: 20px; border: 2px solid #1A202C; }
        ::-webkit-scrollbar-thumb:hover { background-color: #718096; }

        /* Estilo Header con Glassmorphism */
        #header.scrolled {
            background-color: rgba(11, 15, 25, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Efecto de brillo en botones */
        .cta-glow { position: relative; overflow: hidden; }
        .cta-glow:hover::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); width: 200%; padding-bottom: 200%; border-radius: 50%;
            background: radial-gradient(circle, rgba(56, 189, 248, 0.4) 0%, rgba(56, 189, 248, 0) 60%);
            animation: glow-pulse 1.5s infinite;
        }
        @keyframes glow-pulse { 0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.7; } 70% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; } 100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; } }

        /* Card con borde gradiente y efecto glass */
        .info-card {
            background: rgba(26, 32, 44, 0.6); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            position: relative; border: 1px solid transparent; background-clip: padding-box;
            transition: transform 0.3s ease-in-out;
        }
        .info-card:hover { transform: translateY(-10px) !important; }
        .info-card::before {
            content: ''; position: absolute; top: 0; right: 0; bottom: 0; left: 0; z-index: -1;
            margin: -1px; border-radius: inherit;
            background: linear-gradient(145deg, rgba(56, 189, 248, 0.3), rgba(56, 189, 248, 0.05), rgba(56, 189, 248, 0.3));
        }
        
        /* Fondo de Aurora */
        .aurora-background {
            background-image: radial-gradient(ellipse 200% 100% at 50% 0%, rgba(56, 189, 248, 0.2), transparent),
                              radial-gradient(ellipse 200% 100% at 50% 100%, rgba(56, 189, 248, 0.15), transparent);
            background-size: 125% 125%;
        }

        /* Loader nuevo */
        #loader-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #0B0F19; display: flex; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.5s ease-out, visibility 0.5s; }
        #loader-wrapper.hidden { opacity: 0; visibility: hidden; }
        .loader-content { text-align: center; position: relative; }
        .loader-title { font-family: 'Poppins', sans-serif; font-size: 2.5rem; color: #F7FAFC; font-weight: 700; animation: text-fade-in 1.5s ease-out; }
        .loader-subtitle { font-family: 'Inter', sans-serif; font-size: 1rem; color: #A0AEC0; letter-spacing: 0.1em; text-transform: uppercase; animation: text-fade-in 1.5s ease-out 0.2s; animation-fill-mode: backwards; }
        .loader-ripple {
            position: absolute; top: 50%; left: 50%;
            border: 2px solid rgba(56, 189, 248, 0.7);
            border-radius: 50%;
            animation: ripple-effect 1.5s ease-out forwards;
        }
        @keyframes ripple-effect {
            from { width: 0; height: 0; opacity: 1; transform: translate(-50%, -50%); }
            to { width: 400px; height: 400px; opacity: 0; transform: translate(-50%, -50%); }
        }
        @keyframes text-fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Control de Volumen */
        #volume-control { position: fixed; bottom: 1.5rem; right: 1.5rem; display: flex; align-items: center; gap: 0.5rem; background-color: rgba(26, 32, 44, 0.7); padding: 0.75rem; border-radius: 9999px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); z-index: 1000; }
        #volume-slider { width: 0px; opacity: 0; transition: width 0.4s ease, opacity 0.4s ease; -webkit-appearance: none; background: transparent; }
        #volume-control:hover #volume-slider { width: 100px; opacity: 1; margin: 0 0.5rem; }
        #volume-slider::-webkit-slider-runnable-track { height: 4px; background: #A0AEC0; border-radius: 2px; }
        #volume-slider::-webkit-slider-thumb { -webkit-appearance: none; margin-top: -6px; height: 16px; width: 16px; background: #38bdf8; border-radius: 50%; cursor: pointer; }
        #volume-button { cursor: pointer; color: #F7FAFC; }
        
        /* Estilos Minijuego */
        .letter-option.correct { background-color: #22c55e !important; color: white; transform: scale(1.1); box-shadow: 0 0 15px #22c55e; }
        .letter-option.incorrect { animation: shake 0.5s ease-in-out; background-color: #ef4444 !important; color: white; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); } 20%, 40%, 60%, 80% { transform: translateX(8px); } }

        /* Estilos para sección de info directa */
        .info-section b { font-weight: 600; color: #E2E8F0; } /* gray-200 */
        .info-section h4 { font-weight: 700; color: #F7FAFC; } /* primary */
    </style>
</head>
<body class="bg-background text-primary antialiased">

    <div id="loader-wrapper">
        <div class="loader-content">
            <h2 class="loader-title">Viana's Inc.</h2>
            <p class="loader-subtitle">Websites & Apps.</p>
            <div class="loader-ripple"></div>
        </div>
        <audio id="lofi-music" loop>
            <source src="music.mp3" type="audio/mp3">
        </audio>
    </div>

    <div id="volume-control">
        <button id="volume-button"></button>
        <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.3">
    </div>
    
    <header id="header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="font-display font-bold text-2xl tracking-tighter">Hablemos.</a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#info-completa" class="text-secondary hover:text-accent transition-colors duration-300">Información</a>
                <a href="#word-game-container" class="text-secondary hover:text-accent transition-colors duration-300">Juego</a>
                <a href="#ayuda" class="bg-accent text-white px-5 py-2 rounded-lg font-medium hover:bg-accent-hover transition-all duration-300 shadow-lg shadow-accent/20 hover:shadow-xl hover:shadow-accent/40 transform hover:-translate-y-1">Buscar Ayuda</a>
            </nav>
            <button id="menu-btn" class="md:hidden z-50">
                <i data-lucide="menu" class="text-primary"></i>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden fixed top-0 left-0 w-full h-screen bg-surface/95 backdrop-blur-lg">
            <nav class="flex flex-col items-center justify-center h-full space-y-8">
                <a href="#info-completa" class="text-secondary hover:text-accent text-3xl font-display">Información</a>
                <a href="#word-game-container" class="text-secondary hover:text-accent text-3xl font-display">Juego</a>
                <a href="#ayuda" class="bg-accent text-white px-8 py-4 rounded-lg font-medium text-xl hover:bg-accent-hover transition-all duration-300 transform hover:-translate-y-1">Buscar Ayuda</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="hero" class="min-h-screen flex flex-col items-center justify-center text-center p-4 relative overflow-hidden">
            <div class="absolute inset-0 bg-background opacity-50 z-0"></div>
            <div class="container mx-auto px-6 z-10">
                <h1 class="font-display text-5xl sm:text-6xl lg:text-7xl font-extrabold !leading-tight tracking-tighter bg-clip-text text-transparent bg-gradient-to-br from-white to-gray-400" data-aos="fade-up">
                    Hablemos sobre la Bulimia.
                </h1>
                <p class="mt-6 max-w-2xl mx-auto text-lg md:text-xl text-secondary" data-aos="fade-up" data-aos-delay="200">
                    Es un tema serio, pero informarse y hablar es el primer paso para ayudar y entender. No estás solo/a.
                </p>
                <a href="#info-completa" class="mt-10 inline-block bg-accent text-white px-8 py-4 rounded-lg font-medium text-lg hover:bg-accent-hover transition-all duration-300 shadow-lg shadow-accent/30 hover:shadow-xl hover:shadow-accent/50 transform hover:-translate-y-1.5 cta-glow" data-aos="fade-up" data-aos-delay="400">
                    Aprender más
                </a>
            </div>
        </section>

        <section id="info-completa" class="py-20 md:py-32 aurora-background animate-aurora">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto" data-aos="fade-up">
                    <span class="font-display text-accent font-semibold">Información Detallada</span>
                    <h2 class="font-display text-3xl md:text-5xl font-bold mt-2 mb-6 tracking-tight">Comprendiendo la Bulimia Nerviosa</h2>
                    <p class="text-secondary text-lg">
                        Aquí encontrarás información clave para entender qué es, sus causas, síntomas y cómo se puede tratar.
                    </p>
                </div>

                <div class="max-w-4xl mx-auto mt-16 space-y-8 info-section">
                    
                    <div class="info-card rounded-2xl p-6 sm:p-8" data-aos="fade-up" data-aos-delay="100">
                        <h3 class="font-display font-bold text-2xl text-primary mb-4">1. ¿Qué es la bulimia nerviosa?</h3>
                        <div class="text-secondary text-lg leading-relaxed space-y-4">
                            <p>La bulimia nerviosa es un trastorno de la conducta alimentaria grave y potencialmente mortal. A diferencia de la anorexia, las personas con bulimia suelen tener un peso normal o sobrepeso. La característica principal es un ciclo de atracones seguidos de conductas compensatorias.</p>
                            <ul class="list-disc list-inside space-y-2 pl-4">
                                <li><b>Atracones:</b> Ingerir mucha comida en poco tiempo, con sensación de pérdida de control.</li>
                                <li><b>Conductas compensatorias:</b> Acciones para "compensar" el atracón, como el vómito autoinducido, uso de laxantes, ayuno o ejercicio excesivo.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="info-card rounded-2xl p-6 sm:p-8" data-aos="fade-up" data-aos-delay="200">
                        <h3 class="font-display font-bold text-2xl text-primary mb-4">2. Causas y factores de riesgo</h3>
                        <div class="text-secondary text-lg leading-relaxed space-y-6">
                            <p>La bulimia nerviosa no surge de una única causa, sino de una compleja interacción de factores psicológicos, biológicos y socioculturales.</p>
                            <div>
                                <h4 class="text-xl mb-3">Factores Psicológicos</h4>
                                <ul class="list-disc list-inside space-y-3 pl-4">
                                    <li><b>Baja autoestima y autocrítica intensa:</b> una sensación constante de no ser suficiente.</li>
                                    <li><b>Imagen corporal negativa:</b> distorsión de la percepción del propio cuerpo e insatisfacción.</li>
                                    <li><b>Perfeccionismo:</b> necesidad de cumplir estándares imposibles.</li>
                                    <li><b>Manejo inadecuado de emociones:</b> dificultad para afrontar el estrés, la ansiedad o la depresión.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-xl mb-3">Factores Biológicos</h4>
                                <ul class="list-disc list-inside space-y-3 pl-4">
                                     <li><b>Predisposición genética:</b> antecedentes familiares de TCA, depresión o adicciones.</li>
                                     <li><b>Neurotransmisores alterados:</b> desequilibrios en serotonina y dopamina.</li>
                                     <li><b>Factores hormonales:</b> cambios durante la adolescencia.</li>
                                </ul>
                            </div>
                             <div>
                                <h4 class="text-xl mb-3">Factores Socioculturales</h4>
                                <ul class="list-disc list-inside space-y-3 pl-4">
                                    <li><b>Ideal de delgadez:</b> presión por estándares de belleza poco realistas.</li>
                                    <li><b>Cultura de la dieta:</b> normalización de prácticas alimentarias extremas.</li>
                                    <li><b>Entorno y bullying:</b> comentarios negativos sobre el peso o burlas.</li>
                                    <li><b>Impacto de las redes sociales:</b> exposición a imágenes editadas y comparaciones.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-card rounded-2xl p-6 sm:p-8" data-aos="fade-up" data-aos-delay="300">
                        <h3 class="font-display font-bold text-2xl text-primary mb-4">3. Síntomas y señales de alerta</h3>
                         <div class="text-secondary text-lg leading-relaxed space-y-6">
                            <p>La bulimia se manifiesta a través de un ciclo de atracones de comida seguidos de conductas compensatorias (como el vómito o el uso de laxantes).</p>
                            <img src="tca.png" alt="Persona recibiendo apoyo y consuelo" class="rounded-lg shadow-xl w-full h-auto object-cover aspect-video my-4">
                            <div class="grid md:grid-cols-3 gap-6 text-left">
                                <div>
                                    <h4 class="mb-2">Comportamiento</h4>
                                    <p>Obsesión con el peso, episodios de atracones, uso de conductas compensatorias y ocultamiento de este comportamiento.</p>
                                </div>
                                <div>
                                    <h4 class="mb-2">Señales físicas</h4>
                                    <p>Hinchazón facial, daño dental por erosión del esmalte y callosidades en los nudillos (signo de Russell).</p>
                                </div>
                                <div>
                                    <h4 class="mb-2">Problemas de salud</h4>
                                    <p>Arritmias cardíacas, daño en el esófago y fallo renal debido a la deshidratación y desequilibrio de electrolitos.</p>
                                </div>
                            </div>
                         </div>
                    </div>

                    <div class="info-card rounded-2xl p-6 sm:p-8" data-aos="fade-up" data-aos-delay="400">
                        <h3 class="font-display font-bold text-2xl text-primary mb-4">4. Tratamiento y recuperación</h3>
                        <div class="text-secondary text-lg leading-relaxed space-y-4">
                            <p>El tratamiento es integral y aborda las causas de fondo, no solo la comida. La recuperación es posible.</p>
                            <ul class="list-disc list-inside space-y-2 pl-4">
                                <li><b>Terapia psicológica:</b> La Terapia Cognitivo-Conductual (TCC) es muy efectiva para cambiar pensamientos y comportamientos dañinos.</li>
                                <li><b>Asesoramiento nutricional:</b> Un profesional ayuda a establecer un patrón de alimentación saludable.</li>
                                <li><b>Medicación:</b> A veces, los antidepresivos pueden ayudar a reducir los atracones y tratar la ansiedad o depresión.</li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Minijuego -->
        <section class="py-20 md:py-32 bg-background">
             <div id="word-game-container" class="w-full max-w-4xl mx-auto text-center px-4" data-aos="fade-up">
                <div class="mb-8">
                    <h3 class="font-display text-2xl md:text-3xl font-bold text-primary">Juego: Descubre la Palabra</h3>
                    <p class="text-secondary mt-2">Selecciona las letras en orden para revelar 4 palabras de apoyo.</p>
                </div>
                <div class="bg-surface p-6 sm:p-8 rounded-2xl shadow-2xl relative min-h-[300px] info-card">
                    <div class="flex justify-between items-center mb-4 text-sm font-medium text-secondary">
                        <span id="game-word-counter">Palabra 1 / 4</span>
                        <span id="game-attempts-counter">Intentos restantes: 3</span>
                    </div>
                    <div id="current-word-display" class="flex justify-center gap-2 text-3xl sm:text-4xl font-bold font-display tracking-widest text-primary mb-6 h-14"></div>
                    <div id="letter-options" class="flex flex-wrap justify-center gap-2 sm:gap-3"></div>
                    <div id="game-feedback" class="absolute inset-0 bg-surface/90 backdrop-blur-sm flex flex-col justify-center items-center rounded-2xl opacity-0 pointer-events-none transition-opacity duration-300">
                        <p id="feedback-message" class="text-3xl font-bold font-display text-center"></p>
                        <button id="feedback-button" class="mt-6 bg-accent text-white px-6 py-2 rounded-lg font-medium hover:bg-accent-hover transition-colors">Continuar</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Cita -->
        <section class="py-20 md:py-32">
            <div class="container mx-auto px-6" data-aos="zoom-in">
                <div class="max-w-4xl mx-auto">
                    <blockquote class="text-center">
                        <p class="text-xl md:text-2xl lg:text-3xl font-medium text-primary leading-relaxed">
                            “Hablar de lo que me pasaba fue lo más difícil, pero también lo que me salvó. Pedir ayuda no es de débiles, es de valientes. La recuperación es un camino, pero es posible.”
                        </p>
                        <footer class="mt-8">
                            <p class="font-bold text-lg text-secondary">- Anónimo</p>
                        </footer>
                    </blockquote>
                </div>
            </div>
        </section>
    </main>

    <footer id="ayuda" class="bg-surface py-20">
        <div class="container mx-auto px-6 text-center">
            <h2 class="font-display text-3xl md:text-4xl font-bold" data-aos="fade-up">Pedir ayuda es el paso más importante.</h2>
            <p class="text-secondary mt-4 max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="150">
                Si vos o alguien que conocés necesita ayuda, no duden en buscarla. Hay personas dispuestas a escuchar y acompañar.
            </p>
            <div class="mt-10" data-aos="fade-up" data-aos-delay="300">
                <p class="font-bold text-lg text-accent">Recursos en Argentina:</p>
                <div class="mt-4 space-y-2 text-secondary">
                    <p><b>ALUBA:</b> 011-4306-0033 / 0800-222-5822</p>
                    <p><b>La Casita:</b> 011-4786-2352 / 011-15-4412-2575</p>
                    <p><b>Salud Mental Responde (CABA):</b> 0800-333-1665</p>
                </div>
            </div>
            <p class="text-secondary text-sm mt-16">© <span id="year"></span> Exposición de Ciudadanía. Esta página es un recurso informativo.</p>
        </div>
    </footer>

    <!-- Librerías JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init({ duration: 800, once: true, easing: 'ease-out-cubic' });
            lucide.createIcons();
            
            VANTA.WAVES({
              el: "#hero",
              mouseControls: true,
              touchControls: true,
              gyroControls: false,
              minHeight: 200.00,
              minWidth: 200.00,
              scale: 1.00,
              scaleMobile: 0.75, // Optimizado para móviles
              color: 0xb0f19,
              shininess: 35.00,
              waveHeight: 15.00,
              waveSpeed: 0.60,
              zoom: 0.80
            });

            const loader = document.getElementById('loader-wrapper');
            const lofiMusic = document.getElementById('lofi-music');
            const volumeButton = document.getElementById('volume-button');
            const volumeSlider = document.getElementById('volume-slider');
            const setVolumeIcon = (volume) => {
                let iconName = 'volume-2';
                if (lofiMusic.muted || volume === 0) iconName = 'volume-x';
                else if (volume < 0.5) iconName = 'volume-1';
                volumeButton.innerHTML = `<i data-lucide="${iconName}"></i>`;
                lucide.createIcons();
            };
            const playMusic = () => {
                lofiMusic.volume = parseFloat(volumeSlider.value);
                setVolumeIcon(lofiMusic.volume);
                lofiMusic.play().catch(() => document.body.addEventListener('click', () => lofiMusic.play(), { once: true }));
            };
            volumeButton.addEventListener('click', () => { lofiMusic.muted = !lofiMusic.muted; setVolumeIcon(lofiMusic.muted ? 0 : lofiMusic.volume); });
            volumeSlider.addEventListener('input', (e) => { const v = parseFloat(e.target.value); lofiMusic.volume = v; if (lofiMusic.muted && v > 0) lofiMusic.muted = false; setVolumeIcon(v); });
            setVolumeIcon(parseFloat(volumeSlider.value));
            setTimeout(() => { loader.classList.add('hidden'); setTimeout(playMusic, 500); }, 1500);

            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const navLinks = mobileMenu.querySelectorAll('a');
            const toggleMenu = () => {
                const isOpen = !mobileMenu.classList.contains('hidden');
                mobileMenu.classList.toggle('hidden');
                document.body.style.overflow = isOpen ? 'auto' : 'hidden';
                menuBtn.innerHTML = isOpen ? `<i data-lucide="menu"></i>` : `<i data-lucide="x"></i>`;
                lucide.createIcons();
            };
            menuBtn.addEventListener('click', toggleMenu);
            navLinks.forEach(link => link.addEventListener('click', () => { if (!mobileMenu.classList.contains('hidden')) toggleMenu(); }));
            
            const header = document.getElementById('header');
            window.addEventListener('scroll', () => header.classList.toggle('scrolled', window.scrollY > 20));

            document.getElementById('year').textContent = new Date().getFullYear();

            // --- LÓGICA DEL MINIJUEGO ---
            const gameContainer = document.getElementById('word-game-container');
            if (gameContainer) {
                const wordCounterEl = document.getElementById('game-word-counter');
                const attemptsCounterEl = document.getElementById('game-attempts-counter');
                const currentWordDisplay = document.getElementById('current-word-display');
                const letterOptionsContainer = document.getElementById('letter-options');
                const feedbackContainer = document.getElementById('game-feedback');
                const feedbackMessage = document.getElementById('feedback-message');
                const feedbackButton = document.getElementById('feedback-button');
                const wordList = ['APOYO', 'ESCUCHA', 'FUERZA', 'SALUD', 'CONFIANZA', 'VALOR', 'RESPETO', 'CUIDADO', 'ESPERANZA', 'TERAPIA', 'AYUDA', 'PACIENCIA', 'AMOR', 'VIDA', 'CALMA', 'EQUILIBRIO', 'ARMONIA', 'SANAR', 'EMPATIA'];
                let gameWords = [], currentWordIndex = 0, currentWord = '', lettersGuessed = '', attemptsLeft = 3;
                const shuffleArray = (array) => array.sort(() => Math.random() - 0.5);
                const selectRandomWords = () => { gameWords = shuffleArray([...wordList]).slice(0, 4); };
                const setupNextWord = () => {
                    if (currentWordIndex >= gameWords.length) { showFeedback('¡Felicidades!', 'Has encontrado todas las palabras.', 'Jugar de Nuevo', initGame); return; }
                    currentWord = gameWords[currentWordIndex]; lettersGuessed = ''; attemptsLeft = 3;
                    updateStats(); renderPlaceholders(); renderLetterOptions();
                };
                const updateStats = () => { wordCounterEl.textContent = `Palabra ${currentWordIndex + 1} / 4`; attemptsCounterEl.textContent = `Intentos restantes: ${attemptsLeft}`; };
                const renderPlaceholders = () => {
                    currentWordDisplay.innerHTML = '';
                    currentWord.split('').forEach(() => { const p = document.createElement('div'); p.className = 'letter-placeholder w-8 h-12 sm:w-10 sm:h-14 flex justify-center items-center border-b-2 border-secondary/50 transition-all duration-300'; currentWordDisplay.appendChild(p); });
                };
                const renderLetterOptions = () => {
                    letterOptionsContainer.innerHTML = '';
                    shuffleArray([...currentWord]).forEach(letter => {
                        const btn = document.createElement('button');
                        btn.className = 'letter-option bg-surface/50 shadow-md hover:bg-surface font-bold font-display text-xl sm:text-2xl w-10 h-10 sm:w-12 sm:h-12 rounded-lg transition-all duration-200';
                        btn.textContent = letter; btn.addEventListener('click', () => handleLetterClick(btn, letter)); letterOptionsContainer.appendChild(btn);
                    });
                };
                const handleLetterClick = (btn, letter) => {
                    if (btn.disabled) return;
                    const expected = currentWord[lettersGuessed.length];
                    if (letter === expected) {
                        lettersGuessed += letter; btn.classList.add('correct'); btn.disabled = true;
                        const p = currentWordDisplay.children[lettersGuessed.length - 1]; 
                        if (p) {
                           p.textContent = letter; 
                           p.style.borderColor = '#22c55e';
                           p.style.color = '#F7FAFC';
                        }
                        if (lettersGuessed.length === currentWord.length) {
                            setTimeout(() => { currentWordIndex++; setupNextWord(); }, 1200);
                        }
                    } else {
                        attemptsLeft--; 
                        updateStats(); 
                        btn.classList.add('incorrect'); 
                        setTimeout(() => btn.classList.remove('incorrect'), 600);

                        if (attemptsLeft >= 0) {
                            setTimeout(() => {
                                if (lettersGuessed.length < currentWord.length) {
                                    const letterToReveal = currentWord[lettersGuessed.length];
                                    lettersGuessed += letterToReveal;
                                    const placeholder = currentWordDisplay.children[lettersGuessed.length - 1];
                                    if (placeholder) {
                                        placeholder.textContent = letterToReveal;
                                        placeholder.style.borderColor = '#A0AEC0';
                                        placeholder.style.color = '#A0AEC0';
                                    }
                                    const letterButtons = letterOptionsContainer.querySelectorAll('button:not(:disabled)');
                                    for(let letterBtn of letterButtons) {
                                        if (letterBtn.textContent === letterToReveal) {
                                            letterBtn.disabled = true;
                                            letterBtn.classList.add('opacity-50', 'cursor-not-allowed');
                                            break;
                                        }
                                    }
                                    if (lettersGuessed.length === currentWord.length) {
                                        setTimeout(() => { currentWordIndex++; setupNextWord(); }, 1200);
                                    }
                                }
                            }, 700);
                        } 
                        
                        if (attemptsLeft <= 0) { 
                            showFeedback('¡Inténtalo de nuevo!', `La palabra era "${currentWord}"`, 'Continuar', () => { currentWordIndex++; setupNextWord(); }); 
                        }
                    }
                };
                const showFeedback = (title, msg, btnText, cb) => {
                    feedbackMessage.innerHTML = `${title}<br><span class="text-xl text-secondary font-sans font-normal">${msg}</span>`;
                    feedbackButton.textContent = btnText;
                    feedbackButton.onclick = () => { feedbackContainer.classList.remove('visible'); setTimeout(cb, 300); };
                    feedbackContainer.classList.add('visible');
                };
                const initGame = () => {
                    currentWordIndex = 0; selectRandomWords();
                    feedbackContainer.classList.remove('visible'); setupNextWord();
                };
                initGame();
            }
        });
    </script>
</body>
</html>


